'const fs = require("fs");const content = fs.readFileSync("src/routes/records.js", "utf8");const newContent = content.replace("const ExcelJS = require(\"exceljs\");", "const ExcelJS = require(\"exceljs\");\nconst { requireAuth } = require(\"../middleware/auth\");\nconst { filterDevicesByPermission } = require(\"../middleware/permissions\");");const finalContent = newContent.replace("router.post(\"/export-sm\", async (req, res) => {", "router.post(\"/export-sm\", requireAuth, filterDevicesByPermission, async (req, res) => {");fs.writeFileSync("src/routes/records.js", finalContent);console.log("Fixed records.js");' 
