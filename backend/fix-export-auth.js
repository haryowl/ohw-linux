const fs = require("fs");let content = fs.readFileSync("src/routes/records.js", "utf8");content = content.replace("const ExcelJS = require('exceljs');", "const ExcelJS = require('exceljs');\nconst { requireAuth } = require('./auth');\nconst { filterDevicesByPermission } = require('../middleware/permissions');");content = content.replace("router.post('/export-sm', async (req, res) => {", "router.post('/export-sm', requireAuth, filterDevicesByPermission, async (req, res) => {");fs.writeFileSync("src/routes/records.js", content);console.log("Fixed records.js with authentication"); 
